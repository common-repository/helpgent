"use strict";(globalThis.webpackChunkhelpgent=globalThis.webpackChunkhelpgent||[]).push([[944],{68357:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(51609),n=a(4286);function r({style:e}){const t={minHeight:"500px",maxHeight:"550px"};return e=e?{...t,...e}:t,(0,l.createElement)(n.vY,{style:e,className:"helpgent-content-loading"},(0,l.createElement)("span",{className:"helpgent-shimmer-effect"}),(0,l.createElement)("span",{className:"helpgent-shimmer-effect"}),(0,l.createElement)("span",{className:"helpgent-shimmer-effect"}))}},68360:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(1455),n=a.n(l);async function r(e,t){return await n()({path:e,...t}).then((e=>e)).catch((e=>{throw e}))}},90212:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(27723);function n(e){let t="";switch(e){case 404:t=(0,l.__)("Resource not found","helpgent");break;case 400:t=(0,l.__)("Invalid Request","helpgent");break;case 422:t=(0,l.__)("Invalid data","helpgent");break;case 500:t=(0,l.__)("Internal server error","helpgent");break;default:t=(0,l.__)("Technical error","helpgent")}return t}},64943:(e,t,a)=>{a.d(t,{A:()=>g});var l=a(9421),n=a(68360),r=a(90212);function g(e,t,a){const{data:g,isLoading:s,error:i,isError:c,isFetching:M,isSuccess:o,isRefetching:u}=(0,l.I)(e,(async()=>{const e=await(0,n.A)(t,a?.parser||{});return a&&"function"==typeof a.afterLoadedData&&a.afterLoadedData(e),e}),a?.queryConfig||{refetchOnWindowFocus:!1,keepPreviousData:!0,staleTime:1e4});return{data:i||s?null:g,isLoading:s,errorMessage:i?(0,r.A)(i?i?.data?.status:""):"",isError:!!c,isFetching:M,isSuccess:o,isRefetching:u}}},96944:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var l=a(51609),n=a(86087),r=a(52619),g=a(63064),s=a(64197),i=a(68357),c=a(64943),M=a(28050),o=a(65604),u=a(27723);const m={defaultDriveKey:"local",activeDriverFieldKey:"active_media_driver",apiRoutes:{storageStatusRoute:"/helpgent/attachment/storage-summary",migrationStatusRoute:"/helpgent/attachment-transfer-queues/migration-status",startMigrationRoute:"/helpgent/attachment-transfer-queues/start-migration",retryFailedItemsRoute:"/helpgent/attachment-transfer-queues/retry-failed-items",resetMigrationRoute:"/helpgent/attachment-transfer-queues/reset-migration",stopMigrationRoute:"/helpgent/attachment-transfer-queues/stop-migration",resetMigrationRoute:"/helpgent/attachment-transfer-queues/reset-migration"}},p=(0,r.applyFilters)("helpgent-settings-panel-fields",{defaultMedeaDriverOptions:m,pro_promotional_banner:{type:"banner",bannerType:"warning",label:(0,u.__)("Upgrade To Pro","helpgent"),description:(0,u.__)("Upgrade to pro version to unlock all the premium features","helpgent"),callToAction:{label:(0,u.__)("Get now","helpgent"),url:"https://wpwax.com/helpgent/pricing"}},google_recaptcha_site_key:{type:"text",label:(0,u.__)("Site Key","helpgent"),value:""},google_recaptcha_secret_key:{type:"text",label:(0,u.__)("Secret Key","helpgent"),value:""},google_map_api_key:{type:"text",label:(0,u.__)("Api Key","helpgent"),value:""},user_dashboard_page:{type:"select",label:(0,u.__)("User Dashboard Page","helpgent"),value:"",rules:{require:!0},optionsAPI:"/helpgent/admin/page"},user_registration_page:{type:"select",label:(0,u.__)("User Registration Page","helpgent"),value:"",rules:{require:!0},optionsAPI:"/helpgent/admin/page"},guest_user_auto_remove:{type:"toggle",label:(0,u.__)("Guest Auto Remove After 30 Days","helpgent"),value:!1},attachment_auto_remove:{type:"attachment-auto-remove",childFields:{removeAfterDays:{label:(0,u.__)("Attachment remove after days","helpgent"),key:"attachment_remove_after_days",default:30}},label:(0,u.__)("Attachment Auto Remove","helpgent"),value:!0},remove_unverified_response_after_hours:{type:"number",label:(0,u.__)("Unverified response remove after hours","helpgent"),value:48},allowed_email:{type:"email-throttle",label:(0,u.__)("Max Allowed Email","helpgent"),api:{getTotalSentEmail:"helpgent/admin/email-throttle",resetThrottle:"helpgent/admin/email-throttle/reset"},value:1e3},active_media_driver:{type:"select",label:(0,u.__)("Select Active Media Driver","helpgent"),value:"local",options:[{label:(0,u.__)("Local Drive","helpgent"),value:"local"},{label:(0,u.__)("Google Drive","helpgent"),value:"google_drive"},{label:(0,u.__)("Bunny Drive","helpgent"),value:"bunny_drive"}]},local:{type:"local-drive",group:"media-drive",label:(0,u.__)("Server","helpgent"),iconClass:"icon-primary",icon:(0,l.createElement)(o.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNjQgMzJDMjguNyAzMiAwIDYwLjcgMCA5NnY2NGMwIDM1LjMgMjguNyA2NCA2NCA2NEg0NDhjMzUuMyAwIDY0LTI4LjcgNjQtNjRWOTZjMC0zNS4zLTI4LjctNjQtNjQtNjRINjR6bTI4MCA3MmEyNCAyNCAwIDEgMSAwIDQ4IDI0IDI0IDAgMSAxIDAtNDh6bTQ4IDI0YTI0IDI0IDAgMSAxIDQ4IDAgMjQgMjQgMCAxIDEgLTQ4IDB6TTY0IDI4OGMtMzUuMyAwLTY0IDI4LjctNjQgNjR2NjRjMCAzNS4zIDI4LjcgNjQgNjQgNjRINDQ4YzM1LjMgMCA2NC0yOC43IDY0LTY0VjM1MmMwLTM1LjMtMjguNy02NC02NC02NEg2NHptMjgwIDcyYTI0IDI0IDAgMSAxIDAgNDggMjQgMjQgMCAxIDEgMC00OHptNTYgMjRhMjQgMjQgMCAxIDEgNDggMCAyNCAyNCAwIDEgMSAtNDggMHoiLz48L3N2Zz4="}),value:"",...m}});var N=a(90266),y=a(87614);const I=(0,r.applyFilters)("helpgent-settings-panel-menus",[{type:"menu",key:"general",label:(0,u.__)("General","helpgent"),icon:(0,l.createElement)(o.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCA0MTZjMCAxNy43IDE0LjMgMzIgMzIgMzJsNTQuNyAwYzEyLjMgMjguMyA0MC41IDQ4IDczLjMgNDhzNjEtMTkuNyA3My4zLTQ4TDQ4MCA0NDhjMTcuNyAwIDMyLTE0LjMgMzItMzJzLTE0LjMtMzItMzItMzJsLTI0Ni43IDBjLTEyLjMtMjguMy00MC41LTQ4LTczLjMtNDhzLTYxIDE5LjctNzMuMyA0OEwzMiAzODRjLTE3LjcgMC0zMiAxNC4zLTMyIDMyem0xMjggMGEzMiAzMiAwIDEgMSA2NCAwIDMyIDMyIDAgMSAxIC02NCAwek0zMjAgMjU2YTMyIDMyIDAgMSAxIDY0IDAgMzIgMzIgMCAxIDEgLTY0IDB6bTMyLTgwYy0zMi44IDAtNjEgMTkuNy03My4zIDQ4TDMyIDIyNGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJzMTQuMyAzMiAzMiAzMmwyNDYuNyAwYzEyLjMgMjguMyA0MC41IDQ4IDczLjMgNDhzNjEtMTkuNyA3My4zLTQ4bDU0LjcgMGMxNy43IDAgMzItMTQuMyAzMi0zMnMtMTQuMy0zMi0zMi0zMmwtNTQuNyAwYy0xMi4zLTI4LjMtNDAuNS00OC03My4zLTQ4ek0xOTIgMTI4YTMyIDMyIDAgMSAxIDAtNjQgMzIgMzIgMCAxIDEgMCA2NHptNzMuMy02NEMyNTMgMzUuNyAyMjQuOCAxNiAxOTIgMTZzLTYxIDE5LjctNzMuMyA0OEwzMiA2NEMxNC4zIDY0IDAgNzguMyAwIDk2czE0LjMgMzIgMzIgMzJsODYuNyAwYzEyLjMgMjguMyA0MC41IDQ4IDczLjMgNDhzNjEtMTkuNyA3My4zLTQ4TDQ4MCAxMjhjMTcuNyAwIDMyLTE0LjMgMzItMzJzLTE0LjMtMzItMzItMzJMMjY1LjMgNjR6Ii8+PC9zdmc+"}),iconClass:"icon-primary",fieldGroups:[{fields:["user_dashboard_page","user_registration_page","guest_user_auto_remove","attachment_auto_remove","remove_unverified_response_after_hours","allowed_email"]}]},{type:"submenu",key:"integration",label:(0,u.__)("Integration","helpgent"),icon:(0,l.createElement)(o.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNTc5LjggMjY3LjdjNTYuNS01Ni41IDU2LjUtMTQ4IDAtMjA0LjVjLTUwLTUwLTEyOC44LTU2LjUtMTg2LjMtMTUuNGwtMS42IDEuMWMtMTQuNCAxMC4zLTE3LjcgMzAuMy03LjQgNDQuNnMzMC4zIDE3LjcgNDQuNiA3LjRsMS42LTEuMWMzMi4xLTIyLjkgNzYtMTkuMyAxMDMuOCA4LjZjMzEuNSAzMS41IDMxLjUgODIuNSAwIDExNEw0MjIuMyAzMzQuOGMtMzEuNSAzMS41LTgyLjUgMzEuNS0xMTQgMGMtMjcuOS0yNy45LTMxLjUtNzEuOC04LjYtMTAzLjhsMS4xLTEuNmMxMC4zLTE0LjQgNi45LTM0LjQtNy40LTQ0LjZzLTM0LjQtNi45LTQ0LjYgNy40bC0xLjEgMS42QzIwNi41IDI1MS4yIDIxMyAzMzAgMjYzIDM4MGM1Ni41IDU2LjUgMTQ4IDU2LjUgMjA0LjUgMEw1NzkuOCAyNjcuN3pNNjAuMiAyNDQuM2MtNTYuNSA1Ni41LTU2LjUgMTQ4IDAgMjA0LjVjNTAgNTAgMTI4LjggNTYuNSAxODYuMyAxNS40bDEuNi0xLjFjMTQuNC0xMC4zIDE3LjctMzAuMyA3LjQtNDQuNnMtMzAuMy0xNy43LTQ0LjYtNy40bC0xLjYgMS4xYy0zMi4xIDIyLjktNzYgMTkuMy0xMDMuOC04LjZDNzQgMzcyIDc0IDMyMSAxMDUuNSAyODkuNUwyMTcuNyAxNzcuMmMzMS41LTMxLjUgODIuNS0zMS41IDExNCAwYzI3LjkgMjcuOSAzMS41IDcxLjggOC42IDEwMy45bC0xLjEgMS42Yy0xMC4zIDE0LjQtNi45IDM0LjQgNy40IDQ0LjZzMzQuNCA2LjkgNDQuNi03LjRsMS4xLTEuNkM0MzMuNSAyNjAuOCA0MjcgMTgyIDM3NyAxMzJjLTU2LjUtNTYuNS0xNDgtNTYuNS0yMDQuNSAwTDYwLjIgMjQ0LjN6Ii8+PC9zdmc+"}),iconClass:"icon-warning-deep",submenu:[{type:"menu",label:(0,u.__)("Google reCaptcha","helpgent"),icon:(0,l.createElement)(o.A,{src:N.A}),iconClass:"icon-warning-deep",fieldGroups:[{fields:["google_recaptcha_site_key","google_recaptcha_secret_key"]}]},{type:"menu",label:(0,u.__)("Google map","helpgent"),icon:(0,l.createElement)(o.A,{src:y.A}),iconClass:"icon-warning-deep",fieldGroups:[{fields:["google_map_api_key"]}]}]}]);var h=a(88869),A=a(6945);const j=(0,n.lazy)((()=>a.e(449).then(a.bind(a,4449)))),d=(0,n.lazy)((()=>a.e(95).then(a.bind(a,14476)))),L=(0,r.applyFilters)("helpgent-settings-field-components",{text:j,toggle:function(e){const{label:t,inputKey:a,form:n}=e,r=n.watch(a);return(0,l.createElement)("div",{className:"helpgent-form-row"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{htmlFor:"helpgent-page-select",className:"helpgent-form__label"},t)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)("div",{className:"helpgent-form-group helpgent-mb-0"},(0,l.createElement)(h.Switch,{handleToggle:e=>{n.setValue(a,e.target.checked)},isActive:r?"1":"0"}))))},banner:d,select:function(e){const{label:t,inputKey:a,form:n,rules:r,ErrorMessage:g}=e;return(0,l.createElement)("div",{className:"helpgent-form-row"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{htmlFor:"helpgent-page-select",className:"helpgent-form__label"},t)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)(h.SelectField,{...e,name:a,control:n.control}),(0,l.createElement)(g,{inputKey:a,form:n,rules:r})))},number:function(e){const{label:t,inputKey:a,form:n,rules:r,ErrorMessage:g}=e;return(0,l.createElement)("div",{className:"helpgent-form-row helpgent-settings-panel-field-item"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{className:"helpgent-form__label"},t)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)("div",{className:"helpgent-form-group helpgent-mb-0"},(0,l.createElement)("input",{type:"number",...n.register(a)})),(0,l.createElement)(g,{inputKey:a,form:n,rules:r})))},"attachment-auto-remove":function(e){const{label:t,inputKey:a,form:r,rules:g,ErrorMessage:s,getInputKey:i}=e,c=r.watch(a);let M=(0,A.CR)("childFields.removeAfterDays.key",e,"");M=M?i(M):"";const o=(0,A.CR)("childFields.removeAfterDays.label",e,"Attachment remove after days"),u=(0,A.CR)("childFields.removeAfterDays.default",e,30),m=(0,A.CR)("childFields.removeAfterDays.default",e,{});return(0,n.useEffect)((()=>{if(!c)return;const e=parseInt(r.getValues(M));(isNaN(e)||e<1)&&r.setValue(M,u)}),[]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"helpgent-form-row helpgent-settings-panel-field-item"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{htmlFor:"helpgent-page-select",className:"helpgent-form__label"},t)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)("div",{className:"helpgent-form-group helpgent-mb-0"},(0,l.createElement)(h.Switch,{handleToggle:e=>{r.setValue(a,e.target.checked)},isActive:c?"1":"0"})))),c&&(0,l.createElement)("div",{className:"helpgent-form-row helpgent-settings-panel-field-item"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{htmlFor:"helpgent-page-select",className:"helpgent-form__label"},o)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)("div",{className:"helpgent-form-group helpgent-mb-0"},(0,l.createElement)("input",{type:"number",...r.register(M,m)}),(0,l.createElement)(s,{inputKey:M,form:r,rules:m})))))},"email-throttle":function(e){const{label:t,inputKey:a,form:n,rules:r,ErrorMessage:s}=e,i=(0,g.jE)(),m=(0,A.CR)("api.getTotalSentEmail",e,""),p=(0,A.CR)("api.resetThrottle",e,""),{data:N,isLoading:y,isFetching:I}=(0,c.A)(["totalSentEmailCheck"],m),{mutateAsync:h,isLoading:j}=(0,M.A)(p),d=N?N.total:0;return(0,l.createElement)("div",{className:"helpgent-form-row helpgent-form-row--email-throttle"},(0,l.createElement)("div",{className:"helpgent-form-row-left"},(0,l.createElement)("label",{htmlFor:"helpgent-page-select",className:"helpgent-form__label"},t)),(0,l.createElement)("div",{className:"helpgent-form-row-right"},(0,l.createElement)("div",{className:"helpgent-form-group"},(0,l.createElement)("input",{type:"number",...n.register(a)}),(0,l.createElement)(s,{inputKey:a,form:n,rules:r})),j&&(0,u.__)("Resetting, please wait...","helpgent"),I&&(0,u.__)("Loading, please wait...","helpgent"),!y&&!I&&!j&&(0,l.createElement)("div",{className:"helpgent-form-group"},(0,u.__)("Total Sent Email:","helpgent")," ",d,(0,l.createElement)("a",{title:(0,u.__)("Reset","helpgent"),className:"helpgent-icon-link",onClick:async function(e){if(e.preventDefault(),!(y||I||j)&&confirm((0,u.__)("Are you sure to reset the total email sent count?","helpgent")))try{await h(),i.invalidateQueries({queryKey:["totalSentEmailCheck"]})}catch(e){console.log(e)}}},(0,l.createElement)(o.A,{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNNDguNSAyMjRINDBjLTEzLjMgMC0yNC0xMC43LTI0LTI0VjcyYzAtOS43IDUuOC0xOC41IDE0LjgtMjIuMnMxOS4zLTEuNyAyNi4yIDUuMkw5OC42IDk2LjZjODcuNi04Ni41IDIyOC43LTg2LjIgMzE1LjggMWM4Ny41IDg3LjUgODcuNSAyMjkuMyAwIDMxNi44cy0yMjkuMyA4Ny41LTMxNi44IDBjLTEyLjUtMTIuNS0xMi41LTMyLjggMC00NS4zczMyLjgtMTIuNSA0NS4zIDBjNjIuNSA2Mi41IDE2My44IDYyLjUgMjI2LjMgMHM2Mi41LTE2My44IDAtMjI2LjNjLTYyLjItNjIuMi0xNjIuNy02Mi41LTIyNS4zLTFMMTg1IDE4M2M2LjkgNi45IDguOSAxNy4yIDUuMiAyNi4ycy0xMi41IDE0LjgtMjIuMiAxNC44SDQ4LjV6Ii8+PC9zdmc+"})))))}});var D=a(73310);const E=(0,n.lazy)((()=>a.e(809).then(a.bind(a,93809)))),z=(0,D.getGlobalState)("helpgent_router_references",{}),{Routes:v,Route:T,locationHook:{useLocation:_},navigationHook:b}=z,f=b;function C(){const e=_(),t=f(),[a,g]=(0,n.useState)({}),{data:s,isLoading:o,isError:m}=(0,c.A)(["helpgent-settings"],"/helpgent/admin/settings");(0,n.useEffect)((()=>{o||m||s.settings&&"object"==typeof s.settings&&!Array.isArray(s.settings)&&g(s.settings)}),[o]);const{mutateAsync:N,isLoading:y}=(0,M.A)("/helpgent/admin/settings");return(0,l.createElement)("div",{className:"helpgent-page-inner"},(0,l.createElement)("h1",{className:"helpgent-page-header-title helpgent-page-header-title--settings"},(0,u.__)("Settings","helpgent")),(0,l.createElement)(n.Suspense,{fallback:(0,l.createElement)(i.A,null)},(0,l.createElement)(E,{menus:I,fields:p,fieldComponents:L,data:a,isLoading:o,loader:i.A,onSave:async e=>{if(!y)try{const t=await N({settings:e});return(0,r.doAction)("helpgent-toast",{message:t.message?t.message:(0,u.__)("Settings have been saved successfully.","helpgent"),type:"success"}),{success:!0}}catch(e){return(0,r.doAction)("helpgent-toast",{message:e.message?e.message:(0,u.__)("Could not save the settings, please try again.","helpgent"),type:"error"}),{success:!1}}},rootRoutePath:"settings",Route:T,Routes:v,routeLocation:e,navigate:t})))}function S(e){return(0,l.createElement)(g.Ht,{client:s.A},(0,l.createElement)(C,{...e}))}},64197:(e,t,a)=>{a.d(t,{A:()=>l});const l=new(a(5054).E)}}]);