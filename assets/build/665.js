"use strict";(globalThis.webpackChunkhelpgent=globalThis.webpackChunkhelpgent||[]).push([[665],{47274:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuNC4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIzIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBkPSJNMCA5NkMwIDc4LjMgMTQuMyA2NCAzMiA2NEg0MTZjMTcuNyAwIDMyIDE0LjMgMzIgMzJzLTE0LjMgMzItMzIgMzJIMzJDMTQuMyAxMjggMCAxMTMuNyAwIDk2ek0wIDI1NmMwLTE3LjcgMTQuMy0zMiAzMi0zMkg0MTZjMTcuNyAwIDMyIDE0LjMgMzIgMzJzLTE0LjMgMzItMzIgMzJIMzJjLTE3LjcgMC0zMi0xNC4zLTMyLTMyek00NDggNDE2YzAgMTcuNy0xNC4zIDMyLTMyIDMySDMyYy0xNy43IDAtMzItMTQuMy0zMi0zMnMxNC4zLTMyIDMyLTMySDQxNmMxNy43IDAgMzIgMTQuMyAzMiAzMnoiLz48L3N2Zz4="},47643:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4KICA8cGF0aCBpZD0iY29weSIgZD0iTTcuODc1LDExLjA4M0gzLjIwOEEzLjIxMiwzLjIxMiwwLDAsMSwwLDcuODc1VjMuMjA4QTMuMjEyLDMuMjEyLDAsMCwxLDMuMjA4LDBINy44NzVhMy4yMTIsMy4yMTIsMCwwLDEsMy4yMDgsMy4yMDhWNy44NzVBMy4yMTIsMy4yMTIsMCwwLDEsNy44NzUsMTEuMDgzWk0zLjIwOCwxLjc1QTEuNDU4LDEuNDU4LDAsMCwwLDEuNzUsMy4yMDhWNy44NzVBMS40NTgsMS40NTgsMCwwLDAsMy4yMDgsOS4zMzNINy44NzVBMS40NTgsMS40NTgsMCwwLDAsOS4zMzMsNy44NzVWMy4yMDhBMS40NTgsMS40NTgsMCwwLDAsNy44NzUsMS43NVpNMTQsMTAuNzkyVjQuMDgzYS44NzUuODc1LDAsMSwwLTEuNzUsMHY2LjcwOGExLjQ1OCwxLjQ1OCwwLDAsMS0xLjQ1OCwxLjQ1OEg0LjA4M2EuODc1Ljg3NSwwLDEsMCwwLDEuNzVoNi43MDhBMy4yMTIsMy4yMTIsMCwwLDAsMTQsMTAuNzkyWiIvPgo8L3N2Zz4K"},30814:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzLjExMSIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDMuMTExIDE0Ij4KICA8cGF0aCBpZD0iZWxsaXBzaXMtaCIgZD0iTTEwLDEwYTEuNTU2LDEuNTU2LDAsMSwwLDEuNTU2LDEuNTU2QTEuNTU2LDEuNTU2LDAsMCwwLDEwLDEwWk00LjU1NiwxMGExLjU1NiwxLjU1NiwwLDEsMCwxLjU1NiwxLjU1NkExLjU1NiwxLjU1NiwwLDAsMCw0LjU1NiwxMFptMTAuODg5LDBBMS41NTYsMS41NTYsMCwxLDAsMTcsMTEuNTU2LDEuNTU2LDEuNTU2LDAsMCwwLDE1LjQ0NCwxMFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMCAxNykgcm90YXRlKC05MCkiIGZpbGw9IiNhMmEyYTIiLz4KPC9zdmc+Cg=="},76012:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj4KICA8cGF0aCBpZD0iSWNvbl9hd2Vzb21lLXBsdXMiIGRhdGEtbmFtZT0iSWNvbiBhd2Vzb21lLXBsdXMiIGQ9Ik05LjI4Niw2LjE3OUg2LjA3MVYyLjk2NGEuNzE0LjcxNCwwLDAsMC0uNzE0LS43MTRINC42NDNhLjcxNC43MTQsMCwwLDAtLjcxNC43MTRWNi4xNzlILjcxNEEuNzE0LjcxNCwwLDAsMCwwLDYuODkzdi43MTRhLjcxNC43MTQsMCwwLDAsLjcxNC43MTRIMy45Mjl2My4yMTRhLjcxNC43MTQsMCwwLDAsLjcxNC43MTRoLjcxNGEuNzE0LjcxNCwwLDAsMCwuNzE0LS43MTRWOC4zMjFIOS4yODZBLjcxNC43MTQsMCwwLDAsMTAsNy42MDdWNi44OTNBLjcxNC43MTQsMCwwLDAsOS4yODYsNi4xNzlaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0yLjI1KSIgZmlsbD0iIzY1NTFmMiIvPgo8L3N2Zz4K"},71899:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTYiIHdpZHRoPSIxNiIgdmlld0JveD0iMCAwIDUxMiA1MTIiPjxwYXRoIGQ9Ik0zMDQgNDhhNDggNDggMCAxIDAgLTk2IDAgNDggNDggMCAxIDAgOTYgMHptMCA0MTZhNDggNDggMCAxIDAgLTk2IDAgNDggNDggMCAxIDAgOTYgMHpNNDggMzA0YTQ4IDQ4IDAgMSAwIDAtOTYgNDggNDggMCAxIDAgMCA5NnptNDY0LTQ4YTQ4IDQ4IDAgMSAwIC05NiAwIDQ4IDQ4IDAgMSAwIDk2IDB6TTE0Mi45IDQzN0E0OCA0OCAwIDEgMCA3NSAzNjkuMSA0OCA0OCAwIDEgMCAxNDIuOSA0Mzd6bTAtMjk0LjJBNDggNDggMCAxIDAgNzUgNzVhNDggNDggMCAxIDAgNjcuOSA2Ny45ek0zNjkuMSA0MzdBNDggNDggMCAxIDAgNDM3IDM2OS4xIDQ4IDQ4IDAgMSAwIDM2OS4xIDQzN3oiLz48L3N2Zz4K"},38930:(e,t,n)=>{n.d(t,{A:()=>l}),n(51609);const l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNC42NjciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNC42NjcgMTYiPgogIDxnIGlkPSJ0cmFzaF8xXyIgZGF0YS1uYW1lPSJ0cmFzaCAoMSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMS4zMzMpIj4KICAgIDxwYXRoIGlkPSJQYXRoXzE1MDgiIGRhdGEtbmFtZT0iUGF0aCAxNTA4IiBkPSJNMzYsM2ExLDEsMCwwLDAtMS0xSDMyLjQ4MmEzLDMsMCwwLDAtMi44MTYtMmgtMkEzLDMsMCwwLDAsMjQuODUsMkgyMi4zMzNhMSwxLDAsMCwwLTEsMWgwYTEsMSwwLDAsMCwxLDFoLjMzM3Y4LjMzM0EzLjY2NywzLjY2NywwLDAsMCwyNi4zMzMsMTZIMzFhMy42NjcsMy42NjcsMCwwLDAsMy42NjctMy42NjdWNEgzNUExLDEsMCwwLDAsMzYsM1ptLTMuMzMzLDkuMzMzQTEuNjY3LDEuNjY3LDAsMCwxLDMxLDE0SDI2LjMzM2ExLjY2NywxLjY2NywwLDAsMS0xLjY2Ny0xLjY2N1Y0aDhaIiBmaWxsPSIjNmU2ZTZlIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTA5IiBkYXRhLW5hbWU9IlBhdGggMTUwOSIgZD0iTTE3MS42NjcsMTk4YTEsMSwwLDAsMCwxLTF2LTRhMSwxLDAsMCwwLTIsMHY0QTEsMSwwLDAsMCwxNzEuNjY3LDE5OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDQuNjY3IC0xODYpIiBmaWxsPSIjNmU2ZTZlIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTEwIiBkYXRhLW5hbWU9IlBhdGggMTUxMCIgZD0iTTI3OC4zMzMsMTk4YTEsMSwwLDAsMCwxLTF2LTRhMSwxLDAsMCwwLTIsMHY0QTEsMSwwLDAsMCwyNzguMzMzLDE5OFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDggLTE4NikiIGZpbGw9IiM2ZTZlNmUiLz4KICA8L2c+Cjwvc3ZnPgo="},92283:(e,t,n)=>{n.d(t,{A:()=>d});var l=n(51609),s=n(86087),a=n(65604),i=n(27716),c=n(5591),r=n(74618),o=n(71899);function d({className:e,dropDownText:t,dropDownIcon:n,dropdownList:d,placement:g,handleDropdownTrigger:m,Link:p,tooltipText:M,customItem:u,topPosition:N}){d=Array.isArray(d)?d.map((e=>({...e,isLoading:!1}))):[];const h=(0,s.useRef)(null),[I,D]=(0,s.useState)(d),[w,L]=(0,s.useState)(!1),A=`helpgent-dropdown ${w?"helpgent-dropdown-open ":""}${e&&e} helpgent-dropdown-${g}`;function y(e,t,n){return e.map(((e,l)=>l!==t?e:{...e,...n}))}return(0,r.A)(".helpgent-dropdown-open",".helpgent-dropdown__content",40),(0,s.useEffect)((()=>{(0,i.A)(w,L,h)}),[w]),(0,l.createElement)("div",{className:A,ref:h},(0,l.createElement)("a",{href:"#",className:"helpgent-dropdown__toggle helpgent-dropdown__toggle-icon-only",onClick:function(e){e.preventDefault(),L(!w),(0,c.A)(e,".helpgent-dropdown",".helpgent-dropdown__content",null,N||40,!1,"right")},"data-tooltip":""!==M?M:""},t||null,n?(0,l.createElement)("span",{className:"helpgent-dropdown-icon"},(0,l.createElement)(a.A,{src:n})):null),(0,l.createElement)("ul",{className:w?"helpgent-dropdown__content helpgent-show":"helpgent-dropdown__content"},(0,l.createElement)("li",null,u),I&&I.map(((e,t)=>{let n=null;return n="blank"===e.target&&e.url?e.url:"blank"!==e.target&&e.url?`/${e.url}`:"#",(0,l.createElement)("li",{key:t},p?(0,l.createElement)(p,{to:n,onClick:async l=>{if("#"!==n)return void L(!1);if(e.isLoading)return;let s=y(I,t,{isLoading:!0});D(s),await m(l,e.name),s=y(s,t,{isLoading:!1}),D(s),L(!1)},className:e.className?e.className:"",target:"blank"===e.target?"_blank":null},e.isLoading||e.icon?(0,l.createElement)("span",{className:"helpgent-dropdown-item-icon"+(e.isLoading?" helpgent-animate-spin":"")},(0,l.createElement)(a.A,{src:e.isLoading?o.A:e.icon})):"",e.text):(0,l.createElement)("a",{href:n,onClick:t=>"#"===n&&(L(!1),m(t,e.name)),className:e.className?e.className:"",target:"blank"===e.target?"_blank":null},e.icon?(0,l.createElement)("span",{className:"helpgent-dropdown-item-icon"},(0,l.createElement)(a.A,{src:e.icon})):"",e.text))}))))}},90453:(e,t,n)=>{n.d(t,{A:()=>g});var l=n(51609),s=n(78242),a=n(52619),i=n(10426),c=n(4286),r=n(88039),o=n(35372),d=n(27723);function g(e){const{title:t,elementId:n,formId:g,setIsDeleteModalActive:m,type:p,optionData:M,baseApiRoute:u,moduleState:N,setModuleState:h}=e,{singleForm:I,changingElement:D,activeElementId:w}=N,{elements:L,global:A}=I.content,{setStoreData:y}=(0,i.A)(),{mutateAsync:E,isLoading:C,error:_}=(0,r.A)(`${u?.form}/${g}/element/answer`),{mutateAsync:T,isLoading:x,error:v}=(0,r.A)(`${u?.form}/${g}/element/option`);return(0,l.createElement)(s.A,{title:t,onCancel:function(){"element-type"===p?h({...N,isTypeChangeModalActive:!1}):m(!1)},onSubmit:async function(){if(!C&&!x)if("element"===p){const e={element_id:n};try{await E(e),function(){const e=L.filter((e=>e.id!==n));let t=null;for(let e=0;e<L.length;e++)L[e].id===n&&(t=e>0?L[e-1]:L[e+1]);const l={...I,content:{global:A,elements:e}};h({...N,singleForm:l,activeElement:t,activeElementId:t.id}),m(!1),(0,a.doAction)("helpgent-toast",{message:(0,d.__)("Element removed successfully","helpgent")})}()}catch(e){console.log(e)}}else if("option"===p){const e={element_id:n,value:M.removableItemId};try{await T(e),(0,o.A)("remove-option",M.removableItemId,M.controls,M.generalControls,n,N,h,M.removableItemId,y),m(!1),(0,a.doAction)("helpgent-toast",{message:(0,d.__)("Option removed successfully","helpgent")})}catch(e){console.log(e)}}else if("element-type"===p){const e={element_id:n,new_element:JSON.stringify(D)};try{await E(e),function(e){const t=L.map((t=>t.id===w?{...e,id:w}:t)),n={...I,content:{elements:t,global:A}};h({...N,singleForm:n,activeElement:e,isTypeChangeModalActive:!1})}(D)}catch(e){}}},hasCancelButton:!0,hasSubmitButton:!0,isActiveSubmit:!0,cancelText:(0,d.__)("No, cancel","helpgent"),submitText:C||x?"element-type"===p?(0,d.__)("Changing","helpgent"):(0,d.__)("Deleting","helpgent"):"element-type"===p?(0,d.__)("Yes, change type","helpgent"):(0,d.__)("Yes, delete it","helpgent"),cancelBtnType:"light",submitBtnType:"danger",className:"helpgent-delete-alert-modal"},(0,l.createElement)(c.fZ,null,(0,l.createElement)("div",{className:"helpgent-alert-content"},(0,l.createElement)("span",{className:"helpgent-text-warning helpgent-mb-15"},(0,d.__)("Warning:","helpgent")),(0,l.createElement)("ul",null,(0,l.createElement)("li",null,(0,d.sprintf)((0,d.__)("Deleting this %s will result in the permanent loss of response data associated with this %s.","helpgent"),"element"===p?"screen":"option","element"===p?"screen":"option")),(0,l.createElement)("li",null,(0,d.sprintf)((0,d.__)("If logic rules are applied to this %s, deleting it will break the logic.","helpgent"),"element"===p?"element":"option"))),(0,l.createElement)("h4",null,(0,d.__)("Are you sure you want to delete it?","helpgent")))))}},68469:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(1455),s=n.n(l);async function a(e,t,n){return n=n||{},await s()({path:e,method:"DELETE",data:t,...n}).then((e=>e))}},88039:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(26374),s=n(68469);const a=(e,t)=>(0,l.n)((n=>"object"==typeof n?(n.id&&n.data&&(e=`${e}/${n.id}`,n=n.data),(0,s.A)(e,n,t)):(e=n?`${e}/${n}`:e,(0,s.A)(e,n||{},t))))},10426:(e,t,n)=>{n.d(t,{A:()=>s});var l=n(63064);function s(){const e=(0,l.jE)();return{setStoreData:(t,n)=>{e.setQueryData(t,n)},getStoreData:t=>e.getQueryData(t),removeStoreData:t=>{e.removeQueries(t)}}}},42046:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(51609),s=n(86087),a=n(82900);const i=(e,t,n,l)=>{const{destination:s,source:a,draggableId:i,type:c}=e;if(!s)return;if(s.droppableId===a.droppableId&&s.index===a.index)return;const r=t.filter((e=>"welcome"===e.element_type)),o=t.filter((e=>"user_validation"===e.element_type)),d=t.filter((e=>"end"===e.element_type)),g=Array.from(t.filter((e=>"welcome"!==e.element_type&&"end"!==e.element_type&&"user_validation"!==e.element_type)));if("helpgent-other-screens"===c){const[e]=g.splice(a.index,1);g.splice(s.index,0,e)}else if("helpgent-end-screens"===c){const[e]=d.splice(a.index,1);d.splice(s.index,0,e)}const m=[...r,...o,...g,...d],{singleForm:p}=n,{global:M}=p.content,u={...p,content:{elements:m,global:M}};l({...n,singleForm:u})};var c=n(27716),r=n(65604),o=n(48036),d=n(37466),g=n(38745),m=n(79682),p=n(87277),M=n(9427),u=n(6945),N=n(30912),h=n(61518),I=n(76012);const D="data:image/svg+xml;base64,PHN2ZyBpZD0iY29sbGFwc0xlZnQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDE0IDEyIj4KICA8ZGVmcz4KICAgIDxjbGlwUGF0aCBpZD0iY2xpcC1wYXRoIj4KICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8yMDUyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAyMDUyIiB3aWR0aD0iMTQiIGhlaWdodD0iMTIiIGZpbGw9IiM2ZTZlNmUiLz4KICAgIDwvY2xpcFBhdGg+CiAgPC9kZWZzPgogIDxnIGlkPSJHcm91cF8yOTc4IiBkYXRhLW5hbWU9Ikdyb3VwIDI5NzgiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIj4KICAgIDxwYXRoIGlkPSJQYXRoXzE1OTAiIGRhdGEtbmFtZT0iUGF0aCAxNTkwIiBkPSJNMi42NzUsNS41OTNhLjU3LjU3LDAsMCwwLDAsLjgxNEw1LjkzLDkuNjJhLjU4NC41ODQsMCwwLDAsLjk5NS0uNDA3VjYuNzM3aDYuMzM3YS43MzcuNzM3LDAsMSwwLDAtMS40NzRINi45MjVWMi43ODdBLjU4NC41ODQsMCwwLDAsNS45MywyLjM4Wk0uNTg4LDBjLjMyNiwwLC41ODkuMzYzLjU4OS44MTFWMTEuMTg5YzAsLjQ0OC0uMjYzLjgxMS0uNTg5LjgxMVMwLDExLjYzNywwLDExLjE4OVYuODExQzAsLjM2My4yNjIsMCwuNTg4LDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAyKSIgZmlsbD0iIzZlNmU2ZSIvPgogIDwvZz4KPC9zdmc+Cg==",w="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTQiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxNCAxMiI+CiAgPGRlZnM+CiAgICA8Y2xpcFBhdGggaWQ9ImNsaXAtcGF0aCI+CiAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGVfMjA1MiIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgMjA1MiIgd2lkdGg9IjE0IiBoZWlnaHQ9IjEyIiBmaWxsPSIjNmU2ZTZlIi8+CiAgICA8L2NsaXBQYXRoPgogIDwvZGVmcz4KICA8ZyBpZD0iR3JvdXBfMjk3OCIgZGF0YS1uYW1lPSJHcm91cCAyOTc4IiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSI+CiAgICA8cGF0aCBpZD0iUGF0aF8xNTkwIiBkYXRhLW5hbWU9IlBhdGggMTU5MCIgZD0iTTExLjMyMyw1LjU5M2EuNTcuNTcsMCwwLDEsMCwuODE0TDguMDY4LDkuNjJhLjU4NC41ODQsMCwwLDEtLjk5NS0uNDA3VjYuNzM3SC43MzZhLjczNy43MzcsMCwxLDEsMC0xLjQ3NEg3LjA3M1YyLjc4N2EuNTg0LjU4NCwwLDAsMSwuOTk1LS40MDdaTTEzLjQxLDBjLS4zMjYsMC0uNTg5LjM2My0uNTg5LjgxMVYxMS4xODljMCwuNDQ4LjI2My44MTEuNTg5LjgxMXMuNTg5LS4zNjMuNTg5LS44MTFWLjgxMUMxNCwuMzYzLDEzLjczNiwwLDEzLjQxLDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDApIiBmaWxsPSIjNmU2ZTZlIi8+CiAgPC9nPgo8L3N2Zz4K";var L=n(47274),A=n(5591),y=n(74618),E=n(27723);function C(e){const{baseApiRoute:t}=e,{routeLink:n}=(0,u.Xd)("helpgent_router_references",null),{singleFormState:C,setSingleFormState:_}=(0,o.$)(),T=(0,s.useRef)(null),x=(0,s.useRef)(null),v=(0,s.useRef)(null),z=(0,s.useRef)(null),[b,S]=(0,s.useState)(!1),[j,f]=(0,s.useState)(!0),[Y,Z]=(0,s.useState)(),[k,B]=(0,s.useState)(null),[R,W]=(0,s.useState)(null),[G,O]=(0,s.useState)(null);function F(e){e.preventDefault(),S(!b),(0,A.A)(e,".helpgent-screenBar-header",".helpgent-mega-dropdown",0,48,!1,"left")}(0,s.useEffect)((()=>{const e=document.getElementById("helpgent-sortable-item-last");null!==e&&null!==R&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[R]),(0,s.useEffect)((()=>{const e=document.getElementById("helpgent-sortable-last-end-item");null!==e&&null!==G&&e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),[G]),(0,y.A)(".helpgent-screenBar-header",".helpgent-mega-dropdown",48);const{singleForm:U,isProModalActive:H}=C,{elements:P}=U.content;function Q(){(0,m.A)(M.A,C,_,"end-element",{other:W,end:O})}function J(e){e.preventDefault();const t=v.current;t&&t.classList.toggle("helpgent-screenBar--collapsed"),Y<1040&&t.classList.toggle("helpgent-screenBar--float"),f(!j),v.current.clientWidth!==k&&B(window.innerWidth<=575?225:window.innerWidth<=1199?250:280)}return(0,s.useEffect)((()=>{(0,c.A)(b,S,T)}),[b]),(0,s.useEffect)((()=>{const e=x.current.getBoundingClientRect().height;x.current.style.height=e<185?"185px":`${e}'px'`;const t=()=>(0,p.A)(v,Z,B,window.innerWidth<=575?225:window.innerWidth<=1199?250:280);return window.addEventListener("resize",t),t(),()=>{window.removeEventListener("resize",t)}}),[]),(0,s.useEffect)((()=>{const e=e=>{if(!j&&v.current&&!v.current.contains(e.target)&&!z.current.contains(e.target)){const e=v.current;e&&e.classList.add("helpgent-screenBar--collapsed"),Y<1040&&e.classList.remove("helpgent-screenBar--float"),f(!1)}};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[j]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(N.rS,{className:"helpgent-screenBar "+(Y&&Y<1040?"helpgent-screenBar--collapsedd":""),ref:v},(0,l.createElement)("div",{className:"helpgent-screenBar-header",ref:T},j?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h5",{className:"helpgent-screenBar-header__title"},(0,E.__)("Screens","helpgent")),(0,l.createElement)(n,{className:"helpgent-screenBar-header__add",onClick:e=>F(e)},(0,l.createElement)(r.A,{src:I.A}),(0,E.__)("Add New","helpgent"))):(0,l.createElement)(n,{className:"helpgent-screenBar-header__add",onClick:e=>F(e)},(0,l.createElement)(r.A,{src:I.A})),(0,l.createElement)(h.A,{isOpenMegaDropdown:b,handleItemEvent:m.A,setMegaDropdown:S,baseApiRoute:t,closeMegaDropdown:()=>S(!1),setLastNewItem:{other:W,end:O}})),(0,l.createElement)("div",{className:"helpgent-screenBar-content"},(0,l.createElement)("div",{className:"helpgent-screenBar-welcome-screens"},function(e,t,n,s,a){const{singleForm:i}=t,{global:c}=i.content,r=e.filter((e=>"welcome"===e.element_type||"user_validation"===e.element_type&&"0"===c?.anonymous_submission?.isActive)),{activeElementId:o}=t;function g(e){n({...t,activeElement:e,activeElementId:e.id,screenSettingType:"design"!==t.screenSettingType?"element":"design"})}return r.map(((e,t)=>(0,l.createElement)("div",{className:"helpgent-screen helpgent-screenBar-content__welcome",key:t},(0,l.createElement)(d.A,{element:e,handler:g,hasDropdown:!0,isDisabled:"user_validation"===e.element_type&&"1"===c?.anonymous_submission?.isActive,isSidebarItem:!0,isActive:e.id===o,baseApiRoute:s,isSidebarOpen:a}))))}(P,C,_,t,j)),(0,l.createElement)(a.JY,{onDragEnd:e=>i(e,P,C,_)},(0,l.createElement)(a.gL,{droppableId:"helpgent-other-droppable-screen",type:"helpgent-other-screens"},(e=>(0,l.createElement)("div",{className:"helpgent-screen helpgent-screenBar-content__other helpgent-scrollbar-style",ref:t=>{e.innerRef(t)},...e.droppableProps},function(e,t,n,s,i,c){const r=(0,g.L)(),o=e.filter((e=>"welcome"!==e.element_type&&"end"!==e.element_type&&"user_validation"!==e.element_type)),{activeElementId:m}=t;function p(e){n({...t,activeElement:e,activeElementId:e.id,screenSettingType:"design"!==t.screenSettingType?"element":"design"})}return o.map(((e,t)=>(0,l.createElement)(a.sx,{draggableId:e.id,index:t,key:e.id},(n=>(0,l.createElement)("div",{className:"helpgent-sortable-item helpgent-sortable-screen "+(e.isPro&&!r?"helpgent-disabled":""),id:o.length===t+1?"helpgent-sortable-item-last":"",ref:n.innerRef,...n.draggableProps,...n.dragHandleProps},(0,l.createElement)(d.A,{element:e,handler:p,hasDropdown:!0,index:t+1,isSidebarItem:!0,isActive:e.id===m,baseApiRoute:s,setLastNewItem:i,isSidebarOpen:c}))))))}(P,C,_,t,{other:W,end:O},j),e.placeholder)))),(0,l.createElement)("div",{className:"helpgent-screen helpgent-screenBar-content__end",ref:x},(0,l.createElement)("div",{className:"helpgent-ending-draggable",onMouseDown:e=>function(e,t){let n,l;const s=e=>{const s=l+n-e.clientY;s>=185&&s<=440&&(t.current.style.height=`${s}px`)},a=()=>{document.documentElement.removeEventListener("mousemove",s,!1),document.documentElement.removeEventListener("mouseup",a,!1)};n=e.clientY,l=parseInt(t.current.getBoundingClientRect().height)-20,document.documentElement.addEventListener("mousemove",s,!1),document.documentElement.addEventListener("mouseup",a,!1)}(e,x)},(0,l.createElement)("span",{className:"helpgent-ending-draggable__pipe"})),(0,l.createElement)("div",{className:"helpgent-screenBar-end-head"},j?(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"helpgent-screenBar-end-head__title"},(0,E.__)("Endings","helpgent")),(0,l.createElement)("div",{className:"helpgent-screenBar-end-head__add",onClick:Q},"+ ",(0,E.__)("Add","helpgent"))):(0,l.createElement)("div",{className:"helpgent-screenBar-end-head__add",onClick:Q},(0,l.createElement)(r.A,{src:I.A}))),(0,l.createElement)(a.JY,{onDragEnd:e=>i(e,P,C,_)},(0,l.createElement)(a.gL,{droppableId:"helpgent-other-droppable-screen",type:"helpgent-end-screens"},(e=>(0,l.createElement)("div",{className:"helpgent-end-screen-list helpgent-scrollbar-style",ref:t=>{e.innerRef(t)},...e.droppableProps},function(e,t,n,s,i,c){const r=e.filter((e=>"end"===e.element_type)),{activeElementId:o}=t;function g(e){n({...t,activeElement:e,activeElementId:e.id,screenSettingType:"design"!==t.screenSettingType?"element":"design"})}return r.map(((e,t)=>(0,l.createElement)(a.sx,{draggableId:e.id,index:t,key:e.id},(n=>(0,l.createElement)("div",{className:"helpgent-sortable-item",id:r.length===t+1?"helpgent-sortable-last-end-item":"",ref:n.innerRef,...n.draggableProps,...n.dragHandleProps},(0,l.createElement)(d.A,{element:e,handler:g,hasDropdown:!0,key:t,isActive:e.id===o,index:t,isSidebarItem:!0,baseApiRoute:s,setLastNewItem:i,isSidebarOpen:c}))))))}(P,C,_,t,{other:W,end:O},j),e.placeholder)))))),!Y&&!Y<1040?(0,l.createElement)("button",{className:"helpgent-sidebar-collapse",onClick:e=>{J(e)}},(0,l.createElement)(r.A,{src:j?D:w})):null),Y&&Y<1040?(0,l.createElement)("button",{className:"helpgent-sidebar-float",onClick:e=>{J(e)},style:{left:j?`${k+20}px`:"20px",top:"0"},ref:z},(0,l.createElement)(r.A,{src:L.A})):null)}},37466:(e,t,n)=>{n.d(t,{A:()=>D});var l=n(51609),s=n(86087),a=n(65604),i=n(48036),c=n(6945),r=n(92283),o=n(88869),d=n(79682),g=n(16622),m=n(30814),p=n(47643),M=n(38930),u=n(30912),N=n(90453),h=n(38745),I=n(27723);function D({element:e,handler:t,hasDropdown:n,index:D,isDisabled:w,isSidebarItem:L,isActive:A,baseApiRoute:y,closeMegaDropdown:E,isDropdownActive:C,setLastNewItem:_,isSidebarOpen:T}){const{paramsHook:x,routeLink:v}=(0,c.Xd)("helpgent_router_references",null),z=(0,s.useRef)(null),{id:b}=x(),[S,j]=(0,s.useState)(!1),{singleFormState:f,setSingleFormState:Y}=(0,i.$)(),{singleForm:Z,isUpdateFormAlertActive:k}=f,{elements:B,global:R}=Z.content,{id:W,icon:G,title:O,isPro:F,isComing:U,element_type:H}=e,P=()=>{let e=[{name:"duplicate",icon:p.A,text:(0,I.__)("Duplicate","helpgent")},{name:"delete",icon:M.A,text:(0,I.__)("Delete","helpgent")}];return 1===B.filter((e=>"user_validation"!==e.element_type)).length?"welcome"===H||"user_validation"===H?e.filter((e=>"duplicate"!==e.name&&"delete"!==e.name)):e.filter((e=>"delete"!==e.name)):"welcome"===H||"gdpr"===H?e.filter((e=>"duplicate"!==e.name)):"user_validation"===H?e.filter((e=>"duplicate"!==e.name&&"delete"!==e.name)):"end"===H&&B.filter((e=>"end"===e.element_type)).length<2?e.filter((e=>"delete"!==e.name)):e};return(0,s.useEffect)((()=>{const e=e=>{T||document.querySelectorAll(".helpgent-screen__content").forEach((t=>{const n=t.getBoundingClientRect();t.style.setProperty("--helpgent-sidebar-elm-position-top",`${n.top+e}px`),t.style.setProperty("--helpgent-sidebar-elm-position-right",`${n.right}px`)}))};e(0),document.querySelectorAll(".helpgent-screenBar-content .helpgent-scrollbar-style").forEach((t=>{t.addEventListener("scroll",(()=>{setTimeout((()=>{e(18)}),0)}))}))}),[T]),(0,l.createElement)(u.hH,{className:`${w?"helpgent-screen__item helpgent-screen__disabled":A?"helpgent-screen__item helpgent-active":"helpgent-screen__item"} ${!T&&L?"helpgent-screen__item--collapsed":""}`,ref:z},(0,l.createElement)("div",{className:"helpgent-screen__inner",onClick:()=>{t(e,f,Y,C?"end"!==e.element_type?"megamenu-elements":"end-element":"",_),E&&E(!1)}},(0,l.createElement)("div",{className:"helpgent-screen__content","data-title":!T&&L?O:null},(0,l.createElement)("div",{className:"helpgent-screen__icon"},(0,l.createElement)(a.A,{src:g.UF[G]})),(0,l.createElement)("h4",{className:"helpgent-screen__title"},"end"===H&&(0,l.createElement)("span",{className:"helpgent-screen__counter-end"},String.fromCharCode(65+D)),D>0&&"end"!==H&&(0,l.createElement)("span",{className:"helpgent-screen__counter"},D),(0,l.createElement)("span",{className:"helpgent-screen__title-text",dangerouslySetInnerHTML:{__html:O}}),F&&!(0,h.L)()&&!L&&(0,l.createElement)(o.Badge,{type:"success",text:"PRO",modifier:"helpgent-badge-extended"}),U&&(0,l.createElement)(o.Badge,{type:"gray",text:(0,I.__)("Coming Soon","helpgent")})))),T&&n&&0!==P().length&&(0,l.createElement)(r.A,{className:"helpgent-screen-dropdown",dropDownIcon:m.A,dropdownList:P(),placement:"right",handleDropdownTrigger:function(t,n){if(t.preventDefault(),"delete"===n)j(!0);else if("duplicate"===n){const t=B.filter((e=>e.id===W))[0];(0,d.A)(t,f,Y,"end"===e.element_type?"end-element":"megamenu-elements",_)}},Link:v}),S&&(0,l.createElement)(N.A,{title:(0,I.__)("Delete element","helpgent"),elementId:W,formId:b,setIsDeleteModalActive:j,type:"element",baseApiRoute:y,moduleState:f,setModuleState:Y}))}},61518:(e,t,n)=>{n.d(t,{A:()=>p});var l=n(51609),s=n(86087),a=n(65604),i=n(37466),c=n(48036),r=n(27723);function o({type:e,screenList:t,handleItemEvent:n,baseApiRoute:s,closeMegaDropdown:a,setLastNewItem:o}){const{singleFormState:d,setSingleFormState:g}=(0,c.$)(),{singleForm:m}=d,{elements:p}=m.content,M=p.reduce(((e,t)=>{const n=t.element_type;return e[n]||(e[n]=[]),e[n].push(t),e}),{}),u=M.welcome||[],N=M.user_validation||[],h=M.gdpr||[];return 0!==t.length&&(0,l.createElement)("div",{className:"helpgent-screen-type"},(0,l.createElement)("span",{className:"helpgent-screen-type__title"},function(e){let t="";switch(e){case"basic":t=(0,r.__)("Basic","helpgent");break;case"contact":t=(0,r.__)("Contact","helpgent");break;case"choices":t=(0,r.__)("Choices","helpgent");break;case"rating":t=(0,r.__)("Rating & Ranking","helpgent");break;case"answer":t=(0,r.__)("Answers","helpgent");break;case"security":t=(0,r.__)("Security","helpgent");break;case"initial":t=(0,r.__)("Welcome & End","helpgent")}return t}(e)),t.map(((e,t)=>(0,l.createElement)(i.A,{element:e,handler:n,key:t,isDisabled:"welcome"===e.element_type&&0!==u.length||"user_validation"===e.element_type&&0!==N.length||"gdpr"===e.element_type&&0!==h.length,baseApiRoute:s,closeMegaDropdown:a,isDropdownActive:!0,setLastNewItem:o}))))}var d=n(97792),g=n(30912),m=n(29898);function p({isOpenMegaDropdown:e,handleItemEvent:t,isElementTypeChangingDropdown:n,baseApiRoute:i,closeMegaDropdown:c,setLastNewItem:p}){const M=(0,m.vf)(),[u,N]=(0,s.useState)(M),[h,I]=(0,s.useState)("");function D(e){const n=u.filter((t=>t.groupName===e));return(0,l.createElement)(o,{type:e,screenList:n,handleItemEvent:t,baseApiRoute:i,closeMegaDropdown:c,setLastNewItem:p})}return(0,s.useEffect)((()=>{e||(N(M),I(""))}),[e]),(0,s.useEffect)((()=>{if(""===h.trim())N(M);else{const e=M.filter((e=>e.title.toLowerCase().includes(h.toLowerCase())));N(e)}}),[h]),e&&(0,l.createElement)(g.Vz,{className:"helpgent-mega-dropdown"},(0,l.createElement)("div",{className:"helpgent-mega-dropdown__search"},(0,l.createElement)("span",{className:"helpgent-mega-dropdown__search-icon"},(0,l.createElement)(a.A,{src:d.A})),(0,l.createElement)("input",{type:"text",name:"helpgent-screen-search",placeholder:(0,r.__)("Find an element","helpgent"),onChange:e=>function(e){I(e.target.value)}(e)})),(0,l.createElement)("div",{className:"helpgent-mega-dropdown__content helpgent-scrollbar-style"},(0,l.createElement)("h3",{className:"helpgent-mega-dropdown__title"},(0,r.__)("All elements","helpgent")),(0,l.createElement)("div",{className:"helpgent-screen-type-wrap"},(0,l.createElement)("div",{className:"helpgent-screen-type-column"},D("basic"),D("rating")),(0,l.createElement)("div",{className:"helpgent-screen-type-column"},D("contact"),D("answer"),!n&&D("security")),(0,l.createElement)("div",{className:"helpgent-screen-type-column"},D("choices"),!n&&D("initial")))))}},79682:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(18562),s=n(38745);function a(e,t,n,a,i){let c=JSON.parse(JSON.stringify(e));const{singleForm:r}=t,{elements:o,global:d}=r.content,g=(0,s.L)();if(c.isPro&&!g)return void n({...t,isProModalActive:!0});const m=o.reduce(((e,t)=>{const n=t.element_type;return e[n]||(e[n]=[]),e[n].push(t),e}),{}),p=m.welcome||[],M=m.gdpr||[],u=m.user_validation||[],N=m.end||[],h=o.filter((e=>"end"!==e.element_type&&"user_validation"!==e.element_type)),I=h[h.length-1],D=N[0];if(c.id=(0,l.A)(),"welcome"===c.element_type){if(0===h.length?c.controls.elementLogic.default_target=D.id:c.controls.elementLogic.default_target=h[0].id,0!==p.length)return;o.splice(0,0,c)}else if("user_validation"===c.element_type){if(0!==u.length)return;o.splice(1,0,c)}else{if("gdpr"===c.element_type&&0!==M.length)return;if(I&&D){const e=o.findIndex((e=>e.id===I.id));-1!==e&&(D?"end"!==c.element_type&&(c.controls.elementLogic.default_target=D.id):"end"!==c.element_type&&(c.controls.elementLogic.default_target=null),o[e].controls.elementLogic.default_target=c.id)}else if(D)if("single_select"===c.element_type||"dropdown"===c.element_type||"yes_no"===c.element_type){const e=c?.controls?.general?.options.map(((e,t)=>({index:t+1,if_element:c.id,value:"yes_no"===c.element_type?parseInt(e.value):e.id,type:"is",target_element:D.id})));c.controls.elementLogic.logics=e}else"end"!==c.element_type&&(c.controls.elementLogic.default_target=D.id);else if(I){const e=o.findIndex((e=>e.id===I.id));if(-1!==e)if("single_select"===I.element_type||"dropdown"===I.element_type||"yes_no"===I.element_type){const t=I?.controls?.general?.options.map(((e,t)=>({index:t+1,if_element:I.id,value:"yes_no"===I.element_type?parseInt(e.value):e.id,type:"is",target_element:c.id})));o[e].controls.elementLogic.logics=t}else o[e].controls.elementLogic.default_target=c.id}o.push(c)}const w={...r,content:{elements:o,global:d}};n({...t,activeElement:c,activeElementId:c.id,singleForm:w,screenSettingType:"design"!==t.screenSettingType?"element":"design"}),"end-element"===a?i.end(c):i.other(c)}},87277:(e,t,n)=>{function l(e,t,n,l){const s=e?.current.closest(".helpgent-form-wrapper--adaptive");t(s&&s.clientWidth),n(l)}n.d(t,{A:()=>l})}}]);